plugins {
	id 'build.java-commons'
}

dependencies {
	deps platform(libs.aws.sdk.java2.bom)

	implementation libs.aws.lambda.core
	implementation libs.aws.lambda.events

	runtimeOnly libs.log4j.slf4j
	runtimeOnly libs.aws.lambda.log4j
}

tasks.register 'zip', Zip, {
	into 'lib', {
		from tasks.named('jar')
		from configurations.runtimeClasspath
	}
}

tasks.named('assemble') {
	dependsOn 'zip'
}
